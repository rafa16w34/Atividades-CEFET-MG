#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#define LIN 7
#define COL 9

int fuga_humana (char m[LIN][COL], int p, int p1){

    if (m[p][p1] == 'Z'){

            return 1;
    }

    if ((p-1>0) && (p-1<LIN) && (p1>0) && (p1<COL)){

    fuga_humana(m, p-1, p1);

    }

    if ((p+1>0) && (p+1<LIN) && (p1>0) && (p1<COL)){
    fuga_humana(m, p+1, p1);
    }

    if ((p>0) && (p<LIN) && (p1-1>0) && (p1-1<COL)){
    fuga_humana(m, p, p1-1);
    }

    if ((p>0) && (p<LIN) && (p1+1>0) && (p1+1<COL)){
    fuga_humana(m, p, p1+1);
    }

    return 0;

}

int main(){
    char m[LIN][COL];
    int robo = 15;


    //Preenche a matriz com o [space]
     for (int i = 0; i < LIN; i++){

        for (int j = 0; j < COL; j++){

            m[i][j] =' ';

        }
    }

    //Gera os robos aleatoriamente na matriz
    for (int i = 0; i < robo;){

            int x = rand() % LIN;
            int y = rand() % COL;

        if (m[x][y] == ' '){

            m[x][y] = 'R';
            i++;

        }
    }


        int p = rand() % LIN;
        int p1 = rand() % COL;
    //gera o humano
    while(1){ //repete infinitamente atÃ© que ocorra o break


        if (m[p][p1] == ' '){

             m[p][p1] = 'H';
             break;

        }
    }
    //gera a saida

    while(1){
        int x = rand() % LIN;
        int y = rand() % COL;

        if (m[x][y] == ' '){

             m[x][y] = 'Z';
             break;

        }
    }

    //Exibe o mapa
    for (int i = 0; i < LIN; i++){

        for (int j = 0; j < COL; j++){

            printf("%c ", m[i][j]);

        }

        printf("\n");

    }

    printf("Comecando a procurar\n");

    if (fuga_humana(m,p,p1) == 1){

        printf("Caminho encontrado");
    }else{

        printf("Caminho nao encontrado");

    }

    return 0;


}